{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,UAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;AACxC,QAAMC,WAAWD,UAAUE,GAAV,CAAcC,WAAWC,SAASC,aAAT,CAAuBF,OAAvB,CAAzB,CAAjB;;AAEA,SAAO,UAASG,WAAT,EAAsB;AAC5B,SAAMC,sBAAsBD,WAA5B;;AAEA,SAAME,kBAAkB,YAAW;AAClC,UAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,QAA3B,CAAjB;AACAS,WACEC,mBADF,CACsBJ,oBAAoBK,SAD1C,EAEEC,OAFF,CAEUC,YAAY;AACpB,SAAGC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAH,EAAyD;AACxDG,oBAAcR,QAAd,EAAwBM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAAxB;AACA;AACD,KANF;AAOA,IATD;;AAWAN,mBAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;AACA,UAAOJ,eAAP;AACA,GAhBD;AAiBA;;uBApBeT,U;;AAsBhB,UAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA2C;AAC1Cf,WACEC,aADF,CACgBc,SAASC,QADzB,EAEEC,gBAFF,CAEmBF,SAASG,KAF5B,EAEmCA,SAAS;AAC1C,OAAGH,SAASI,OAAZ,EAAqBD,MAAME,cAAN;AACrBf,YAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACA,GALF;AAMA","file":"Controller.js","sourcesContent":["export function controller(...seletores) {\r\n\tconst elements = seletores.map(seletor => document.querySelector(seletor));\r\n\r\n\treturn function(constructor) {\r\n\t\tconst constructorOriginal = constructor;\r\n\r\n\t\tconst constructorNovo = function() {\r\n\t\t\tconst instance = new constructorOriginal(...elements);\r\n\t\t\tObject\r\n\t\t\t\t.getOwnPropertyNames(constructorOriginal.prototype)\r\n\t\t\t\t.forEach(property => {\r\n\t\t\t\t\tif(Reflect.hasMetadata(\"bindEvent\", instance, property)) {\r\n\t\t\t\t\t\tassociaEvento(instance, Reflect.getMetadata(\"bindEvent\", instance, property));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tconstructorNovo.prototype = constructorOriginal.prototype;\r\n\t\treturn constructorNovo;\r\n\t}\r\n}\r\n\r\nfunction associaEvento(instance, metadado) {\r\n\tdocument\r\n\t\t.querySelector(metadado.selector)\r\n\t\t.addEventListener(metadado.event, event => {\r\n\t\t\tif(metadado.prevent) event.preventDefault();\r\n\t\t\tinstance[metadado.propertyKey](event);\r\n\t\t});\r\n}"]}